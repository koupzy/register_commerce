{% extends '@App/layout.html.twig' %}

{% block scripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/app/js/steps.min.js') }}"></script>
    <script src="{{ asset('bundles/app/js/select2.min.js') }}"></script>
    <script src="{{ asset('bundles/app/js/uniform.min.js') }}"></script>
    <script src="{{ asset('bundles/app/js/inputmask.js') }}"></script>
    <script src="{{ asset('bundles/app/js/validate.min.js') }}"></script>
    <script src="{{ asset('bundles/app/js/cookie.js') }}"></script>
    <script src="{{ asset('bundles/app/js/form_wizard.js') }}"></script>
{% endblock %}

{% block content %}
    <div class="content">

        <div class="card">
            <div class="card-header bg-white header-elements-inline">
                <h6 class="card-title">Exploitant creation</h6>

            </div>
            {{ form_start(form, {'data-fouc':'','attr': {'class' : 'wizard-form steps-validation'}}) }}
                <h6> Données Personnelles </h6>

                <fieldset>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                {{ form_errors(form.nom, {'attr': {'class' : 'validation-invalid-label'}}) }}
                                {{ form_row(form.nom, {'attr': {'class' : 'form-control'}}) }}

                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                {{ form_errors(form.prenom, {'attr': {'class' : 'validation-invalid-label'}}) }}
                                {{ form_row(form.prenom, {'attr': {'class' : 'form-control'}}) }}

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                {{ form_errors(form.nationalite, {'attr': {'class' : 'validation-invalid-label'}}) }}
                                {{ form_row(form.nationalite, {'attr': {'class' : 'form-control form-control-select2'}}) }}

                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                {{ form_errors(form.domicile, {'attr': {'class' : 'validation-invalid-label'}}) }}
                                {{ form_row(form.domicile, {'attr':{'class':'form-control'}}) }}

                            </div>
                        </div>
                    </div>
                    <div id="sejour" class="row" style="display: none ">
                        <div class="col-md-6">
                            <div class="form-group">
                                {{ form_errors(form.titreSejour) }}
                                {{ form_row(form.titreSejour, {'attr': {'class' : 'form-control '}}) }}

                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                {{ form_errors(form.dateValidite, {'attr': {'class' : 'validation-invalid-label'}}) }}
                                {{ form_row(form.dateValidite) }}

                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                {{ form_errors(form.dateNaiss, {'label':'Date de Naissance','attr': {'class' : 'validation-invalid-label'}}) }}
                                {{ form_row(form.dateNaiss) }}

                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                {{ form_errors(form.situationMatri, {'label':'Date de Naissance','attr': {'class' : 'validation-invalid-label'}}) }}
                                {{ form_row(form.situationMatri, {'attr': {'class':'form-control'}}) }}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                {{ form_errors(form.lieuNaiss, {'label':'Date de Naissance','attr': {'class' : 'validation-invalid-label'}}) }}
                                {{ form_row(form.lieuNaiss, {'attr':{'class' : 'form-control'}}) }}
                            </div>
                        </div>
                    </div>
                </fieldset>

                <h6> Données du conjoint ou conjointe </h6>

                <fieldset>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                {{ form_errors(form.nomConjoint, {'attr': {'class' : 'validation-invalid-label'}}) }}
                                {{ form_row(form.nomConjoint, {'attr': {'class' : 'form-control'}}) }}

                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                {{ form_errors(form.prenomConjoint, {'attr': {'class' : 'validation-invalid-label'}}) }}
                                {{ form_row(form.prenomConjoint, {'attr': {'class' : 'form-control'}}) }}

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6" style="display: inline">
                            <div class="form-group" style="display: inline">
                                {{ form_errors(form.dateNaissConjoint, {'attr': {'class' : 'validation-invalid-label '}}) }}
                                {{ form_row(form.dateNaissConjoint) }}

                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                {{ form_errors(form.clauseRestConjoint, {'attr': {'class' : 'validation-invalid-label'}}) }}
                                {{ form_row(form.clauseRestConjoint, {'attr': {'class' : 'form-control'}}) }}

                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                {{ form_errors(form.regimeMatConjoint, {'attr': {'class' : 'validation-invalid-label'}}) }}
                                {{ form_row(form.regimeMatConjoint, {'attr': {'class' : 'form-control'}}) }}

                            </div>
                        </div>
                    </div>
                </fieldset>

                <h6> Données des activitées précedentes</h6>

                <fieldset>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_errors(form.periode_deAnt, {'attr': {'class' : 'validation-invalid-label'}}) }}
                            {{ form_row(form.periode_deAnt) }}

                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_errors(form.periode_aAnt, {'attr': {'class' : 'validation-invalid-label'}}) }}
                            {{ form_row(form.periode_aAnt) }}

                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_errors(form.prec_rccmAnt, {'attr': {'class' : 'validation-invalid-label'}}) }}
                            {{ form_row(form.prec_rccmAnt, {'attr': {'class' : 'form-control'}}) }}

                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_errors(form.activiteAnt, {'attr': {'class' : 'validation-invalid-label'}}) }}
                            {{ form_row(form.activiteAnt, {'attr': {'class' : 'form-control'}}) }}

                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_errors(form.princip_etabAnt, {'attr': {'class' : 'validation-invalid-label'}}) }}
                            {{ form_row(form.princip_etabAnt, {'attr': {'class' : 'form-control'}}) }}

                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_errors(form.second_etabAnt, {'attr': {'class' : 'validation-invalid-label'}}) }}
                            {{ form_row(form.second_etabAnt, {'attr': {'class' : 'form-control'}}) }}

                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            {{ form_errors(form.rccmAnt, {'attr': {'class' : 'validation-invalid-label'}}) }}
                            {{ form_row(form.rccmAnt, {'attr': {'class' : 'form-control'}}) }}

                        </div>
                    </div>
                </div>
            </fieldset>
                    {{ form_rest(form) }}
                {{ form_end(form) }}

        </div>
            <ul>
                <li>
                    <a href="{{ path('exploitant_index') }}">Back to the list</a>
                </li>
            </ul>
    </div>

    <script>

        var $value = $('#exploitant_nationalite option:selected').val();

        if ($value !== 'ivoirienne'){

            document.getElementById("sejour").style.display = "flex";
        }else {
            document.getElementById("sejour").style.display = "none";
        }
        $('body').on('change','#exploitant_nationalite', function (event) {
            var $value = $('#exploitant_nationalite option:selected').val();

            if ($value !== 'ivoirienne'){

                document.getElementById("sejour").style.display = "flex";
            }else {
                document.getElementById("sejour").style.display = "none";
            }
        })
    </script>

{% endblock %}




